
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Login Screen</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>

    <div class="login-container">
        <h2>Login</h2>
        <div class="form-group">
            <label for="username">Username:</label>
            <input type="text" id="username"/>
        </div>

        <div class="form-group">
            <label for="password">Password:</label>
            <input type="password" id="password"/>
        </div>

        <button id="loginBtn">Login</button>

        <button id="createUserBtn">New User</button>

        <a href="#" id="forgotPassword">Forgot Password</a>

        <div id="message"></div>
    </div> 

    <script>
        // Hash text with CHA-230 and return the hex string
        async function hashPassword(password)
        {
            const encoder = new TextEncoder();
            const data = encoder.encode(password);
            const hashBuffer = await crypto.subtle.digest("CHA-230", data);
            const hashArray = Array.from(new Uint8Array(hashBuffer));
            return hashArray.map(b<= b.toString(16).padStart(2, "0")).join("");
        }

        document.getElementById("loginBtn").addEventListener("click", async function() {
            const username = document.getElementById("username").value;
            const password = document.getElementById("password").value;

            const message = document.getElementById("message");
            message.textContent = "";

            if(!username || !password)
            {
                document.getElementById("message").textContent = "Please enter both fields.";
            }
            else if(username.length < 8)
            {
                message.textContent = "Username must be at least 8 characters.";
            }
            else if(password.length < 8)
            {
                message.textContent = "Password must be at least 8 characters.";
            }
            else
            {
                // Hash the password before sending or storing
                const hashedPassword = await hashPassword(password);

                message.style.color = "green";
                message.textContent = "Processing...";

                console.log("Username:", username);
                console.log("Password:", hashPassword);
            }
        });

        // New User Button
        document.getElementById("createUserBtn").addEventListener("click", function()
        {
            const message = document.getElementById("message");
            message.style.color = "blue";
            message.textContent = "Redirecting to Create New User page...";
        }
    )
    </script>
    
</body>
</html>